# Google Sheets Seeding Instructions

## Overview

This guide explains how to import the generated CSV files into your Google Sheets to seed the data.

## Prerequisites

1. Two CSV files generated by running `npm run seed:export`:
   - `scripts/out/carta_items_seed.csv` (37 food menu items)
   - `scripts/out/vinos_items_seed.csv` (10 wine items)

2. A Google Sheet with two tabs configured for the site:
   - One tab for Carta (food menu)
   - One tab for Vinos (wine list)

## Import Methods

### Method 1: File Import (Recommended)

1. Open your Google Sheet
2. Select the tab you want to populate (e.g., "Carta")
3. Click **File → Import**
4. Click **Upload** and select the CSV file (`carta_items_seed.csv` or `vinos_items_seed.csv`)
5. In the import dialog:
   - **Import location**: Select "Replace current sheet"
   - **Separator type**: Comma
   - **Convert text to numbers, dates, and formulas**: Check this option
6. Click **Import data**
7. Repeat for the other tab

### Method 2: Copy-Paste

1. Open the CSV file in a text editor or Excel
2. Select all content (Ctrl/Cmd + A) and copy (Ctrl/Cmd + C)
3. In your Google Sheet, click on cell **A1** of the target tab
4. Paste (Ctrl/Cmd + V)
5. Google Sheets will prompt: "Split text to columns?"
   - Click **Split**
6. Repeat for the other tab

## Verify Import

After importing, verify:

- **Headers are intact** (row 1):
  - Carta: `seccion, nombre, descripcion, precio, disponible, orden`
  - Vinos: `categoria, nombre, descripcion, origen, precio, disponible, orden`
- **Data types are correct**:
  - `precio` and `orden` should be numbers
  - `disponible` should be TRUE/FALSE
- **Special characters** (accents, ñ, etc.) display correctly
- **Item count matches**:
  - Carta: 37 items
  - Vinos: 10 items

## Publish to Web

After importing and verifying:

1. Click **File → Share → Publish to web**
2. Select the tab to publish
3. Choose format: **Comma-separated values (.csv)**
4. Click **Publish**
5. Copy the published CSV URL
6. Add it to your Vercel environment variables:
   - `NEXT_PUBLIC_GOOGLE_SHEET_CARTA_CSV_URL`
   - `NEXT_PUBLIC_GOOGLE_SHEET_VINOS_CSV_URL`

## Important Notes

- **Do not delete the header row** - the parser expects it
- To hide an item from the menu, set `disponible=FALSE` (not delete the row)
- Changes to the Google Sheet may take up to 1 hour to appear on the website (due to caching)
- Keep the `orden` column to control item display order within sections

## Troubleshooting

**Q: Items appear out of order on the site**
- Check the `orden` column values - they should be sequential within each section/category

**Q: Special characters (é, ñ) show as weird symbols**
- Ensure the CSV was saved with UTF-8 encoding
- Re-import using Method 1 (File Import)

**Q: Prices don't show or show as text**
- Ensure `precio` column contains only numbers (e.g., `9.5` not `€9.50` or `9,5`)
- Google Sheets should auto-detect numbers on import

**Q: All items missing from website**
- Verify the CSV URL is published correctly
- Check Vercel environment variables are set
- Wait up to 1 hour for cache to refresh, or redeploy to clear cache immediately
